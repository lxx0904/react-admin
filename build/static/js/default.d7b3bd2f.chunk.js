(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[5],{198:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultLayout",(function(){return X}));n(191);var a=n(361),r=(n(147),n(190)),l=(n(194),n(356)),c=n(10),o=n(11),i=n(13),u=n(12),s=(n(109),n(111)),m=n(0),h=n.n(m),p=n(2),d=(n(198),n(382)),f=n(391),y=n(403),g=n(15),v=Object(g.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(19),n.e(8)]).then(n.bind(null,375))})),E=Object(g.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(18),n.e(4)]).then(n.bind(null,368))})),k=Object(g.a)((function(){return Promise.all([n.e(1),n.e(17),n.e(7)]).then(n.bind(null,369))})),b=Object(g.a)((function(){return n.e(6).then(n.bind(null,371))})),O=Object(g.a)((function(){return n.e(11).then(n.bind(null,372))})),j=Object(g.a)((function(){return n.e(13).then(n.bind(null,373))})),K=[{title:"\u9996\u9875",key:"/index",icon:d.a,component:v},{title:"\u901a\u7528",key:"/public",icon:f.a,children:[{title:"\u6309\u94ae",key:"/public/button",icon:"",component:E},{title:"\u56fe\u6807",key:"/public/icon",icon:"",component:k}]},{title:"\u5bfc\u822a",key:"/nav",icon:y.a,children:[{title:"\u4e0b\u62c9\u83dc\u5355",key:"/nav/dropdown",icon:"",component:b},{title:"\u5bfc\u822a\u83dc\u5355",key:"/nav/menu",icon:"",component:O},{title:"\u6b65\u9aa4\u6761",key:"/nav/steps",icon:"",component:j}]}],C=(n(90),n(104)),S=n(23),I=n(393),x=s.a.Sider,N=C.a.SubMenu,M=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={openKeys:[],selectedKeys:[]},e.getOpenKeys=function(e){for(var t="",n=[],a=e.split("/").map((function(e){return"/"+e})),r=1;r<a.length-1;r++)t+=a[r],n.push(t);return n},e.onOpenChange=function(t){if(0!==t.length&&1!==t.length){var n=t[t.length-1];n.includes(t[0])?e.setState({openKeys:t}):e.setState({openKeys:[n]})}else e.setState({openKeys:t})},e}return Object(o.a)(n,[{key:"renderMenuItem",value:function(e){var t=e.key,n=e.icon,a=e.title;return h.a.createElement(C.a.Item,{key:t},h.a.createElement(S.b,{to:t},n&&h.a.createElement(n,null),h.a.createElement("span",null,a)))}},{key:"renderChildrenbMenu",value:function(e){var t=this,n=e.key,a=e.icon,r=e.title,l=e.children;return h.a.createElement(N,{key:n,icon:h.a.createElement(a,null),title:r},l.map((function(e){return t.renderMenuItem(e)})))}},{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({selectedKeys:[e],openKeys:this.getOpenKeys(e)})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.location.pathname;e.location.pathname!==n&&this.setState({selectedKeys:[n],openKeys:this.getOpenKeys(n)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.openKeys,a=t.selectedKeys,r=this.props,l=r.menu,c=r.menuToggle;return h.a.createElement(x,{className:"aside",collapsed:c},h.a.createElement("div",{className:"logo"},h.a.createElement(I.a,{style:{color:"#fff",fontSize:"38px"}})),h.a.createElement(C.a,{mode:"inline",theme:"dark",selectedKeys:a,openKeys:n,onClick:function(t){var n=t.key;e.setState({selectedKeys:[n]})},onOpenChange:this.onOpenChange},l.map((function(t){return t.children&&t.children.length>0?e.renderChildrenbMenu(t):e.renderMenuItem(t)}))))}}]),n}(m.Component),H=Object(p.g)(M),T=(n(118),n(230)),A=(n(363),n(360)),w=(n(228),n(362)),R=n(394),z=n(395),D=n(396),L=n(397),J=n(398),P=n(399),_=s.a.Header,F=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"getIcon",value:function(e,t){return e?h.a.createElement(R.a,{onClick:t,style:{fontSize:"20px"}}):h.a.createElement(z.a,{onClick:t,style:{fontSize:"20px"}})}},{key:"render",value:function(){var e=this.props,t=e.menuClick,n=e.avatar,a=e.menuToggle,r=e.loginOut,l=h.a.createElement(C.a,null,h.a.createElement(C.a.ItemGroup,{title:"\u7528\u6237\u8bbe\u7f6e"},h.a.createElement(C.a.Divider,null),h.a.createElement(C.a.Item,null,h.a.createElement(D.a,null)," \u4e2a\u4eba\u8bbe\u7f6e"),h.a.createElement(C.a.Item,null,h.a.createElement(L.a,null)," \u7cfb\u7edf\u8bbe\u7f6e")),h.a.createElement(C.a.Divider,null),h.a.createElement(C.a.Item,{onClick:r},h.a.createElement(J.a,null)," \u9000\u51fa\u767b\u5f55"));return h.a.createElement(_,{className:"header"},h.a.createElement("div",{className:"left"},this.getIcon(a,t)),h.a.createElement("div",{className:"right"},h.a.createElement("div",{className:"mr15"},h.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/lxx0904",target:"_blank"},h.a.createElement(I.a,{style:{color:"#000"}}))),h.a.createElement("div",{className:"mr15"},h.a.createElement(w.a,{dot:!0},h.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/lxx0904",target:"_blank"},h.a.createElement(P.a,{style:{color:"#000"}})))),h.a.createElement("div",null,h.a.createElement(T.a,{overlay:l},h.a.createElement("div",{className:"ant-dropdown-link"},h.a.createElement(A.a,{size:32,src:n,style:{cursor:"pointer"}}))))))}}]),n}(m.Component),U=n(18),B=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(U.a)({children:"children",idKey:"id",pIdKey:"pId",label:"name"},a),l=r.idKey,c=r.pIdKey,o=r.children;if(!l||""===l||!e)return[];if(Array.isArray(e)){var i=[],u=[];for(t=0,n=e.length;t<n;t++)u[e[t][l]]=e[t];for(t=0,n=e.length;t<n;t++)u[e[t][c]]?(u[e[t][c]][o]||(u[e[t][c]][o]=[]),u[e[t][c]][o].push(e[t])):i.push(e[t]);return i}return[e]},G=n(27),W=n(26),q=function(e){return{type:W.a,data:e}},Q=s.a.Footer,V=s.a.Content,X=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={menu:[],routes:[]},e.loginOut=function(){(0,l.a.confirm)({title:"\u60a8\u786e\u5b9a\u8981\u9000\u51fa\u767b\u5f55\u5417?",cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onOk:function(){localStorage.clear(),e.props.history.push("/login"),r.b.success("\u767b\u51fa\u6210\u529f!")}})},e}return Object(o.a)(n,[{key:"isLogin",value:function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("menu"));this.routesHash={},this.getRoutesHash(K),this.setState({menu:this.getMenu(e),routes:this.getRoutes(e)})}}},{key:"getRoutesHash",value:function(e){var t=this;e.forEach((function(e){t.routesHash[e.key]=e,Array.isArray(e.children)&&t.getRoutesHash(e.children)}))}},{key:"getMenu",value:function(e){var t=this;return function e(n){return n.map((function(n){return{title:n.name,key:n.path,icon:t.routesHash[n.path].icon,children:n.children&&n.children.length&&e(n.children)}}))}(B(e))}},{key:"getRoutes",value:function(e){var t=this,n=B(e),a=[];return function e(n){n.forEach((function(n){n.children&&n.children.length?e(n.children):a.push({key:n.path,component:t.routesHash[n.path].component})}))}(n),a}},{key:"UNSAFE_componentWillMount",value:function(){this.isLogin()}},{key:"render",value:function(){if(localStorage.getItem("user")){var e=this.state,t=e.menu,n=e.routes,r=this.props,l=r.menuToggle,c=r.menuClick;return h.a.createElement(s.a,{className:"app",style:{minHeight:"100%"}},h.a.createElement(a.a,null),h.a.createElement(H,{menuToggle:l,menu:t}),h.a.createElement(s.a,{style:{marginLeft:l?"80px":"200px"}},h.a.createElement(F,{avatar:"http://img1.szhk.com/Image/2020/10/13/1602576197132.jpg",loginOut:this.loginOut,menuToggle:l,menuClick:function(){c(123456)}}),h.a.createElement(V,{className:"content"},h.a.createElement(p.d,null,n.map((function(e){return h.a.createElement(p.b,{key:e.key,path:e.key,component:e.component})})),h.a.createElement(p.a,{to:"/404"}))),h.a.createElement(Q,{className:"footer"},"React Admin \xa92020 Created By lanxx")))}return h.a.createElement(p.a,{to:"/login"})}}]),n}(m.Component);t.default=Object(G.b)((function(e){return{menuToggle:e.menuToggle}}),(function(e){return{menuClick:function(){return e(q.apply(void 0,arguments))}}}))(X)}}]);
//# sourceMappingURL=default.d7b3bd2f.chunk.js.map